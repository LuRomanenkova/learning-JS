<html>
<head>
	<meta charset="utf-8">
	<title>LIST JQuery</title>
	<script type="text/javascript"src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
	<style type="text/css">
		li{
			cursor: pointer;
		}
	</style>
</head>
<body>
	<script type="text/javascript">
		/// 5.1
		const m = [
			{
				text: 'Животные',
				childs: [
					{
						text: 'Птицы',
						childs: [
							'Совообразные',
							'Попугаеобразные',
							'Пингвиновые',
							'Голубиные',
							'Дятловые',
							'Воробьинообразные',
							'Гуси и лебеди'
						]
					},
					{
						text: 'Млекопитающие',
						childs: [
							{
								text: 'Живородящие',
								childs: [
									'Муравьед',
									'Коала'
								]
							},
							{
								text: 'Яйцекладущие',
								childs: [
									'Утконос',
									'Ехидна'
								]
							}
						]
					}
				]
			},
			{
				text: 'Растения',
				childs: [
					{
						text: 'Низшие',
						childs: [
							'Водоросли',
							'Лишайники'
						]
					},
					{
						text: 'Высшие',
						childs: [
							'Мхи',
							'Плауны',
							'Папоротники',
							'Голосеменныеолосеменные',
							'Цветковые'
						]
					}
				]
			}
		]
		function createList(childs) {
			
			let ul = $('<ul/>')
			for (let child of childs) {
				let li = $('<li/>')
				if (child.text !== undefined) 
					li.append(child.text)
				if (typeof child !== 'object')
					li.append(child)
				else if (child.childs !== undefined) 
					li.append(createList(child.childs))
				li.on('click', function(e) {
					e.preventDefault()
					$(this.firstElementChild).slideToggle()
					console.log(this.firstChild.data, $(this).find("li").length)
					return false
				})
				ul.append(li)
			}
			return ul
		}
		$("body").append(createList(m))
	</script>
</body>
</html>